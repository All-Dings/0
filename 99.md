# First Git Experiments

Yesterday I had the great (?) Idea to store the Git Repositories of every Day in my Clash of Clans Project itself.

But wouldn't that blow up the Clash of Clans size?

Fortunately there is Git's Large File Support (LFS) that in theory should allow me to keep Clash of Clans small and download Big Data only on Demand.

But Caution is the Mother of the Porcelain Box, so let's make some Experiments first.

## Setup Docker

Yesterday I created a Dockerfile for this Project, therefore I use that now to build a Docker Image. But first we have to get a fresh Copy from GitHub:

```console
michael-holzheu@MacBook/~ $ git clone git@github.com:michael-holzheu/Clash-of-Clans.git
Cloning into 'Clash-of-Clans'...
remote: Enumerating objects: 173, done.
remote: Counting objects: 100% (173/173), done.
remote: Compressing objects: 100% (105/105), done.
remote: Total 173 (delta 76), reused 164 (delta 67), pack-reused 0
Receiving objects: 100% (173/173), 26.50 KiB | 3.79 MiB/s, done.
Resolving deltas: 100% (76/76), done.
```

To build the Docker Image I need the Dockerfile from Yesterday:

```console
michael-holzheu@MacBook/Clash-of-Clans $ head 18.dockerfile 
# # Dockerfile for this Project

# ## Build and run Docker Image
# ```
# $ docker build -t mm -f 18.dockerfile .
# $ docker run -ti --rm mm bash
# ```

# # Define Base Image

```

Now let's build the Docker Image according to my own instructions:


```console
michael-holzheu@MacBook/Clash-of-Clans $ docker build -t mm -f 18.dockerfile .
[+] Building 29.2s (19/19) FINISHED                                                                         
 => [internal] load build definition from 18.dockerfile                                                0.0s
 => => transferring dockerfile: 1.05kB                                                                 0.0s
 => [internal] load .dockerignore                                                                      0.0s
 => => transferring context: 2B                                                                        0.0s
 => [internal] load metadata for docker.io/library/ubuntu:22.04                                        1.2s
 => [ 1/14] FROM docker.io/library/ubuntu:22.04@sha256:67211c14fa74f070d27cc59d69a7fa9aeff8e28ea118ef  0.0s
 => [internal] load build context                                                                      0.1s
 => => transferring context: 1.30MB                                                                    0.1s
 => CACHED [ 2/14] WORKDIR root                                                                        0.0s
 => [ 3/14] COPY . .                                                                                   0.0s
 => [ 4/14] RUN apt-get update                                                                         2.4s
 => [ 5/14] RUN yes | unminimize                                                                      10.7s
 => [ 6/14] RUN apt-get install -y bash-completion                                                     1.2s 
 => [ 7/14] RUN rm -f .bashrc                                                                          0.2s 
 => [ 8/14] RUN ln -s 14.bashrc .bashrc                                                                0.2s 
 => [ 9/14] RUN apt-get install -y man                                                                 1.9s 
 => [10/14] RUN apt-get install -y git                                                                 5.8s 
 => [11/14] RUN apt-get install -y git-lfs                                                             1.7s 
 => [12/14] RUN ln -s 15.gitconfig .gitconfig                                                          0.2s 
 => [13/14] RUN apt-get install -y vim                                                                 3.0s 
 => [14/14] RUN ln -s 13.vimrc .vimrc                                                                  0.2s 
 => exporting to image                                                                                 0.4s 
 => => exporting layers                                                                                0.4s 
 => => writing image sha256:e07685ce65b90a658efa1e49429135306aa33ceead9d9767c533587a447c9856           0.0s 
 => => naming to docker.io/library/mm                                                                  0.0s 
                                                                                                            
Use 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them
```

Cool, that seems to have worked, so where is my new Baby?


```console
michael-holzheu@MacBook/Clash-of-Clans $ docker images | grep mm
mm                latest    e07685ce65b9   3 minutes ago   308MB

```

Looks good, let's run the Thing:


```console
michael-holzheu@MacBook/Clash-of-Clans $ docker run -ti --rm mm bash          
root:~ (Master)# ls
0.md   13.md      15.gitconfig  17.bash        2.md     3.md   33.bash  4.md   6.markdown  8.md
1.md   13.vimrc   15.md         17.markdown    2015.md  30.md  33.md    40.md  6.md        9.md
11.md  14.bashrc  16.bash       17.md          24.bash  31.md  34.md    41.md  7.md        904.md
12.md  14.md      16.md         18.dockerfile  27.md    32.md  37.bash  5.md   8.jpg       README.mdA
```

As already mentioned, I want to create a Branch for each Day. But how can I find the correct Commits for branching of?

Furtunately I already created Tags for each Day:

```console
root:~ (Master)# git tag -l                        
Day-0
Day-1
Day-2
```

Perfect, now I easily can create our three new Branches:


```console
root:~ (Master)# git branch Day-0.branch Day-0       
root:~ (Master)# git branch Day-1.branch Day-1
root:~ (Master)# git branch Day-2.branch Day-2
```

When lisiting them, I notice that we are still on the Master Branch:

```console
root:~ (Master)# git branch -l
  Day-0.branch
  Day-1.branch
  Day-2.branch
* Master
```

Perfect, so let's now publish the new Branches on GitHub:


```console
root:~ (Master)# git push -u origin Day-0.branch
The authenticity of host 'github.com (140.82.121.3)' can't be established.
ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])?
```

Umm, what does that Error Message wants to tell me?

Unfortunately I forgot what "fingerprint" exactly means, my bad! But I gloomy can remember that at my Work I always said 'y' to that question, so give it a Try:


```console
root:~ (Master)# git push -u origin Day-0.branch
Are you sure you want to continue connecting (yes/no/[fingerprint])? y  
Please type 'yes', 'no' or the fingerprint: 
```

Ooops, wrong again. So let's better say 'yes':

```console
Please type 'yes', 'no' or the fingerprint: yes
Warning: Permanently added 'github.com' (ED25519) to the list of known hosts.
git@github.com: Permission denied (publickey).
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.

```

Hmm that's not what we wanted. I search in my memories and remember that we need a [RSA](1977.md) Key Pair for pushing Things to the remote Repository.

You may ask, for what is that good for?

Well, when I want to upload Something, the GitHub Server has to know somehow that this really comes from me. Otherwise everybody could upload Garbage to my beautiful Project.

The whole thing called [Authentification](47.md).
